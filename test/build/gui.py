
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import *
import random
import string


OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path(r"C:\Users\gabri\OneDrive\Desktop\Zona mij\Python\test\build\assets\frame0")
special_characters = True

def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


def turn_special_characters(state):
    global special_characters
    if state:
        special_characters = state
        button_3.config(image="")
        button_2.config(image=button_image_2)
        print("Special characters turned on")
    else:
        special_characters = False
        button_2.config(image="")
        button_3.config(image=button_image_3)
        print("Special characters turned off")
    
    print(special_characters)
    return special_characters

def create_password():

    if special_characters:
        print("special characters enabled")
        alphabet = string.ascii_letters + string.punctuation
    else:
        print("special characters disabled")
        alphabet = string.ascii_letters
    
    input_length = psw_length.get()
    if(input_length.isdigit()):
        print("L'input è un intero")
    else:
        print("L'input non è un intero")
        return
    print(input_length)

    i = 0
    password = ""   
    while i < int(input_length):
        password += random.choice(alphabet)
        i += 1

    print(password)

    #Generated password
    entry_image_2 = PhotoImage(file=relative_to_assets("entry_2.png"))
    
    entry_bg_2 = canvas.create_image(
        398.0,
        288.0,
        image=entry_image_2
    )

    generated_psw = Text(
        bd=0,
        bg="#F1EFEF",
        fg="#000716",
        highlightthickness=0
    )

    generated_psw.insert(END, password)

    generated_psw.place(
        x=254.0,
        y=277.0,
        width=288.0,
        height=20.0
    )
    return password

window = Tk()

window.geometry("560x327")
window.configure(bg = "#D9D9D9")

#Frame
canvas = Canvas(
    window,
    bg = "#D9D9D9",
    height = 327,
    width = 560,
    bd = 0,
    highlightthickness = 0,
    relief = "ridge"
)

canvas.place(x = 0, y = 0)

#Title
canvas.create_text(
    20.0,
    15.0,
    anchor="nw",
    text="Password Generator",
    fill="#000000",
    font=("Inter", 36 * -1)
)

#Length input
canvas.create_text(
    20.0,
    71.0,
    anchor="nw",
    text="Length",
    fill="#000000",
    font=("Inter", 20 * -1)
)

psw_length = Entry(
    bd=0,
    bg="#FFFFFF",
    fg="#000716",
    highlightthickness=0
)
psw_length.place(
    x=98.0,
    y=71.0,
    width=57.0,
    height=22.0
)

entry_image_1 = PhotoImage(
    file=relative_to_assets("entry_1.png"))

entry_bg_1 = canvas.create_image(
    126.5,
    83.0,
    image=entry_image_1
)

canvas.create_text(
    20.0,
    116.0,
    anchor="nw",
    text="Special characters",
    fill="#000000",
    font=("Inter", 20 * -1)
)

#Generate password button
button_image_1 = PhotoImage(
    file=relative_to_assets("button_1.png"))

button_1 = Button(
    image=button_image_1,
    borderwidth=0,
    highlightthickness=0,
    command=create_password,
    relief="flat"
)

button_1.place(
    x=111.0,
    y=184.0,
    width=344.0341796875,
    height=35.0
)

#Yes button
button_image_2 = PhotoImage(
    file=relative_to_assets("button_2.png"))

button_2 = Button(
    image=button_image_2,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: turn_special_characters(True),
    relief="flat"
)

button_2.place(
    x=220.0,
    y=119.0,
    width=19.0,
    height=19.0
)

#No button
button_image_3 = PhotoImage(
    file=relative_to_assets("button_3.png"))
button_3 = Button(
    image="",
    borderwidth=0,
    highlightthickness=0,
    command=lambda: turn_special_characters(False),
    relief="flat"
)
button_3.place(
    x=268.0,
    y=119.0,
    width=19.0,
    height=19.0
)

canvas.create_text(
    25.0,
    276.0,
    anchor="nw",
    text="Generated Password",
    fill="#000000",
    font=("Inter", 20 * -1)
)



window.resizable(False, False)
window.mainloop()
